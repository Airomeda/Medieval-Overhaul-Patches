<?xml version="1.0" encoding="utf-8"?>
<Patch>

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Plants Expanded - More Plants</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

				<!-- Garlic Integration -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="VCE_Garlic"]/plant/sowTags</xpath>
					<value>
						<sowTags/>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="VCE_Garlic"]/plant/harvestedThingDef</xpath>
					<value>
						<harvestedThingDef>DankPyon_RawGarlic</harvestedThingDef>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DankPyon_RawGarlic"]</xpath>
					<value>
						<thingClass Inherit="False">VanillaPlantsExpandedMorePlants.Plant_Resistant</thingClass>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="DankPyon_RawGarlic"]/description</xpath>
					<value>
						<description>Leafy green stalks, whos base consists of a segmented off-white bulb. Garlic makes for a good seasoning and ingredient for many meals, either minced and sauteed for use as an ingredient, or pulverized and used as a seasoning.\n\n&lt;color=#E5E54C&gt;Gameplay effect:&lt;/color&gt; Garlic has very little yield, but can grow in almost any terrain and takes an obscene time to rot, as dried garlic can be used to cook too.</description>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="DankPyon_RawGarlic"]/comps</xpath>
					<value>
						<comps>
							<li Class="CompProperties_Rottable">
								<daysToRotStart>140</daysToRotStart>
								<rotDestroys>true</rotDestroys>
							</li>
						</comps>
					</value>
				</li>

				<!-- Chickpea Integration -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="VCE_Chickpea"]/plant/sowTags</xpath>
					<value>
						<sowTags/>
					</value>
				</li>

				<!-- Carrot Integration -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="DankPyon_Plant_Carrots"]/plant/sowTags</xpath>
					<value>
						<sowTags/>
					</value>
				</li>

				<li Class="PatchOperationRemove">
					<xpath>Defs/ThingDef[defName="DankPyon_Plant_Carrots"]/plant/sowResearchPrerequisites</xpath>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="VCE_Carrot"]/plant/harvestedThingDef</xpath>
					<value>
						<harvestedThingDef>DankPyon_RawCarrots</harvestedThingDef>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="VCE_Carrot"]/graphicData/texPath</xpath>
					<value>
						<texPath>Plants/CarrotPlant</texPath>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="VCE_Carrot"]/description</xpath>
					<value>
						<description>Bushy, short stalks whos root consists of a brightly-colored orange tuber. They make for healthy, if not tasty snacks on their own, or a good addition to any meal when boiled, stewed or sauteed.\n\n&lt;color=#E5E54C&gt;Gameplay effect:&lt;/color&gt; Companion planting: carrots will grow faster if green beans are cultivated in the same map (up to 30% faster if 100 are found).</description>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="VCE_Carrot"]/plant</xpath>
					<value>
						<sowResearchPrerequisites>
							<li>DankPyon_IntermediateAgriculture</li>
						</sowResearchPrerequisites>
					</value>
				</li>
				
				<!-- Buckwheat Integration -->
				<li Class="PatchOperationAdd">
					<xpath>Defs/RecipeDef[defName="DankPyon_CraftFlour" or defName="DankPyon_CraftFlourBulk" or defName="DankPyon_CraftFlourManual"]/ingredients/li/filter/thingDefs</xpath>
					<value>
						<li>VCE_RawBuckwheat</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/RecipeDef[defName="DankPyon_CraftFlour" or defName="DankPyon_CraftFlourBulk" or defName="DankPyon_CraftFlourManual"]/fixedIngredientFilter/thingDefs</xpath>
					<value>
						<li>VCE_RawBuckwheat</li>
					</value>
				</li>
	
				<li Class="PatchOperationAdd">
					<xpath>Defs/ProcessorFramework.ProcessDef[defName="DankPyon_MillProcess"]/ingredientFilter/thingDefs</xpath>
					<value>
						<li>VCE_RawBuckwheat</li>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="VCE_RawBuckwheat"]/ingestible</xpath>
					<value>
						<ingestible>
							<foodType>Seed</foodType>
							<preferability>NeverForNutrition</preferability>
						</ingestible>
					</value>
				</li>
				
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="VCE_RawBuckwheat"]</xpath>
					<value>
						<thingCategories>
							<li>Foods</li>
						</thingCategories>
					</value>
				</li>
			
				<!-- Add Research -->
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="VCE_Lettuce" or defName="VCE_Cassava" or defName="VCE_SweetPotato" or defName="VCE_BellPepper" or defName="VCE_Taro" or defName="VCE_Watercress"]/plant</xpath>
					<value>
						<sowResearchPrerequisites>
							<li>DankPyon_BasicAgriculture</li>
						</sowResearchPrerequisites>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[
				defName="VCE_Celery" or
				defName="VCE_BrusselsSprout" or
				defName="VCE_Buckwheat" or
				defName="VCE_Sunflower" or
				defName="VCE_Okra" or
				defName="VCE_Beans" or
				defName="VCE_Lotus" or
				defName="VCE_WaterChestnut"]/plant					</xpath>
					<value>
						<sowResearchPrerequisites>
							<li>DankPyon_IntermediateAgriculture</li>
						</sowResearchPrerequisites>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="VCE_Pineapple" or defName="VCE_Melon"]/plant</xpath>
					<value>
						<sowResearchPrerequisites>
							<li>DankPyon_AdvancedAgriculture</li>
						</sowResearchPrerequisites>
					</value>
				</li>
				
				<li Class="PatchOperationFindMod">
					<mods>
						<li>Vanilla Factions Expanded - Vikings</li>
					</mods>
					<match Class="PatchOperationFindMod">
						<mods>
							<li>ReGrowth: Core</li>
						</mods>
						<match Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VCE_Blueberry"]</xpath>
							<value>
							
							</value>
						</match>
					</match>
				</li>

			</operations>
		</match>
	</Operation>

</Patch>