<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Cooking Expanded</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

				<!-- Flour  -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/RecipeDef/ingredients/li/filter/thingDefs[li="VCE_Flour"]/li</xpath>
					<value>
						<li>VCE_Flour</li>
						<li>DankPyon_Flour</li>
					</value>
				</li>
				
				<li Class="PatchOperationReplace">
					<xpath>Defs/RecipeDef/ingredients/li/filter/thingDefs[li="DankPyon_Flour"]/li</xpath>
					<value>
						<li>VCE_Flour</li>
						<li>DankPyon_Flour</li>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/RecipeDef/fixedIngredientFilter/thingDefs[li="VCE_Flour"]/li</xpath>
					<value>
						<li>VCE_Flour</li>
						<li>DankPyon_Flour</li>
					</value>
				</li>
				
				<li Class="PatchOperationReplace">
					<xpath>Defs/RecipeDef/defaultIngredientFilter/thingDefs[li="VCE_Flour"]/li</xpath>
					<value>
						<li>VCE_Flour</li>
						<li>DankPyon_Flour</li>
					</value>
				</li>
				
				<li Class="PatchOperationReplace">
					<xpath>Defs/RecipeDef/defaultIngredientFilter/thingDefs[li="DankPyon_Flour"]/li</xpath>
					<value>
						<li>VCE_Flour</li>
						<li>DankPyon_Flour</li>
					</value>
				</li>
				
				<li Class="PatchOperationReplace">
					<xpath>Defs/RecipeDef/fixedIngredientFilter/thingDefs[li="DankPyon_Flour"]/li</xpath>
					<value>
						<li>VCE_Flour</li>
						<li>DankPyon_Flour</li>
					</value>
				</li>

				<!-- Sugar -->
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DankPyon_Sugar"]/thingCategories</xpath>
					<value>
						<li>VCE_Condiments</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DankPyon_Sugar"]</xpath>
					<value>
						<ingredient>
							<mergeCompatibilityTags>
								<li>Condiments</li>
							</mergeCompatibilityTags>
						</ingredient>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="DankPyon_Sugar"]/ingestible</xpath>
					<value>
						<ingestible>
							<preferability>NeverForNutrition</preferability>
							<specialThoughtAsIngredient>VCE_ConsumedSugar</specialThoughtAsIngredient>
							<optimalityOffsetFeedingAnimals>-50</optimalityOffsetFeedingAnimals>
						</ingestible>
					</value>
				</li>

				<li Class="PatchOperationAddModExtension">
					<xpath>Defs/ThingDef[defName="DankPyon_Sugar"]</xpath>
					<value>
						<li Class="AnimalBehaviours.AnimalStatExtension">
				
							<statToAdd>
								<li>VCE_CondimentEffects</li>
				
							</statToAdd>
							<statValues>
								<li>VCE_CondimentEffectsTitle</li>
								
							</statValues>
							<statDescriptions>
								<li>VCE_CondimentEffectsSugar</li>
							</statDescriptions>
						</li>
					</value>
				</li>

				<!-- Spices -->
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DankPyon_Spices"]/thingCategories</xpath>
					<value>
						<li>VCE_Condiments</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DankPyon_Spices"]</xpath>
					<value>
						<ingredient>
							<mergeCompatibilityTags>
								<li>Condiments</li>
							</mergeCompatibilityTags>
						</ingredient>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="DankPyon_Spices"]/ingestible</xpath>
					<value>
						<ingestible>
							<preferability>NeverForNutrition</preferability>
							<specialThoughtAsIngredient>VCE_ConsumedSpices</specialThoughtAsIngredient>
							<optimalityOffsetFeedingAnimals>-50</optimalityOffsetFeedingAnimals>
						</ingestible>
					</value>
				</li>

				<li Class="PatchOperationAddModExtension">
					<xpath>Defs/ThingDef[defName="DankPyon_Spices"]</xpath>
					<value>
						<li Class="AnimalBehaviours.AnimalStatExtension">
							<statToAdd>
								<li>VCE_CondimentEffects</li>
							</statToAdd>
							<statValues>
								<li>VCE_CondimentEffectsTitle</li>
							</statValues>
							<statDescriptions>
								<li>VCE_CondimentEffectsSpices</li>
							</statDescriptions>
						</li>
					</value>
				</li>

			</operations>
		</match>
	</Operation>
	
</Patch>